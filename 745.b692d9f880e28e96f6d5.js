"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[745],{745:function(e,t,s){var i=s(32),n=s(201),r=s(122),o=s(705);function a(e,t,s){const i=t-e;return function(e,t){return e||0===e?t(e):t}(s,(t=>(i+(t-e)%i)%i+e))}var l=s(758);class h extends n.u{_getDefaultProps(){return Object.assign(Object.assign({},super._getDefaultProps()),{container:`#${this.prefix}`,resizeDebounce:0,hasWillChange:!0,canCloneNodes:!0,speed:1,gap:0,isEnabled:!0,pauseOnHover:!1,isFpsNormalized:!0,isCentered:!1})}get prefix(){return`${(0,o.S)().prefix}marquee`}get container(){return this._container}get totalWidth(){return this._totalWidth}get x(){return this._x}set x(e){this._x=e,this.render(0)}constructor(e,t=!0){super(e,!1),this._width=0,this._initialNodes=[],this._elements=[],this._resizeTimeout=null,this._widths=[],this._totalWidth=0,this._container=(0,i.J)(this.props.container);const s=this._container;if(!(s instanceof HTMLElement))throw new Error("No container");this.toggleClassName(s,this.className(""),!0),this._x=0,this._canPlay=!0,s.style.position="relative",s.style.display="flex",s.style.flexDirection="row",s.style.alignItems="center",s.style.justifyContent="flex-start",s.style.width="100%",s.style.overflow="hidden",this._setup(),this._raf=new r.K({isEnabled:this.props.isEnabled}),this._raf.addCallback("frame",(()=>this._render())),t&&this.init()}_init(){super._init(),this._setEvents()}_setEvents(){const{container:e,props:t}=this;this.addEventListener(e,"mouseenter",(()=>{t.pauseOnHover&&(this._canPlay=!1)})),this.addEventListener(e,"mouseleave",(()=>{this._canPlay=!0}))}_onPropsMutate(){var e,t;super._onPropsMutate(),this.props.isEnabled?null===(e=this._raf)||void 0===e||e.play():null===(t=this._raf)||void 0===t||t.pause(),this.render(0)}_setup(){var e;if(null===(e=this._lastSetup)||void 0===e||e.call(this),this.isDestroyed)return;const t=this._container;this._initialNodes=[...Array.from(t.childNodes)],this._wrapTextNode(),this._elements=Array.from(t.querySelectorAll("*"));const s=(0,l.E)({onResize:()=>this._handleResize(),element:t,viewportTarget:"width",hasBothEvents:!1});(0,o.S)().onPageLoad().then((()=>this._handleResize())).catch((()=>{}));const i=(0,l.E)({onResize:()=>this._handleResize(),element:this._elements,viewportTarget:"width",hasBothEvents:!1});this._elements.forEach(((e,t)=>this._addElementStyles(e,0!==t))),this._lastSetup=()=>{s.remove(),i.remove()}}_wrapTextNode(){const e=this._container.childNodes[0];if(!e||3!==e.nodeType)return;const t=document.createElement("span");t.style.position="relative",t.style.display="block",t.style.width="max-content",t.style.whiteSpace="nowrap",t.appendChild(e),this._container.appendChild(t)}_addElementStyles(e,t){const s=e;s.style.position=t?"absolute":"relative",s.style.top=t?"50%":"0",s.style.left="0",s.style.width=e.style.width||"max-content",s.style.willChange=this.props.hasWillChange?"transform":""}_handleResize(){this.isDestroyed||(this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout((()=>this.resize()),this.props.resizeDebounce))}resize(){if(this.isDestroyed)return;const{container:e,props:t}=this;this._width=e.offsetWidth,this._widths=[],this._elements.forEach(((e,s)=>{this._widths[s]=e.offsetWidth+t.gap})),this._totalWidth=this._widths.reduce(((e,t)=>e+t),0);const s=Math.max(...this._widths),i=Math.ceil((this._width+s)/this._totalWidth);if(this._totalWidth=Math.max(this._totalWidth,this._width+s),t.canCloneNodes&&i>1){for(let t=1;t<i;t+=1)this._elements.forEach((t=>{const s=t.cloneNode(!0);this._addElementStyles(s,!0),e.appendChild(s)}));this._elements=Array.from(e.querySelectorAll("*")),this.resize()}this.callbacks.tbt("resize",void 0),this.render(0)}render(e){this._render(e)}_render(e=this.props.speed){if(!this._canPlay||this.isDestroyed)return;const{isFpsNormalized:t,isCentered:s}=this.props,i=e*(t?this._raf.fpsMultiplier:1);this._x-=i;const n=.5*this._width,r=this._x+(s?n:0);let o=0;for(let e=0;e<this._elements.length;e+=1){const t=this._elements[e],s=this._widths[e],i=a(-s,this._totalWidth-s,r+o),n="relative"===t.style.position?"0":"-50%";t.style.transform=`translate(${i}px, ${n})`,o+=s}this.callbacks.tbt("render",void 0)}_destroy(){var e,t;for(super._destroy(),null===(e=this._raf)||void 0===e||e.destroy(),null===(t=this._lastSetup)||void 0===t||t.call(this),this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._container.firstChild;)this._container.removeChild(this._container.firstChild);this._initialNodes.forEach((e=>this._container.appendChild(e)))}}document.querySelectorAll(".js-test").forEach((function(e){!function(e){var t=e.querySelector(".js-play"),s=e.querySelector(".js-pause"),i=e.querySelector(".js-marquee");if(i){var n=i.getAttribute("data-speed")?Number(i.getAttribute("data-speed")):1,r=i.getAttribute("data-gap")?Number(i.getAttribute("data-gap")):0,o=!!i.getAttribute("data-pause-on-hover"),a=new h({container:i,speed:n,gap:r,pauseOnHover:o});null==t||t.addEventListener("click",(function(){return a.changeProps({isEnabled:!0})})),null==s||s.addEventListener("click",(function(){return a.changeProps({isEnabled:!1})}))}}(e)}))},680:function(e,t,s){function i(e){return e instanceof HTMLElement||e instanceof Element}s.d(t,{v:function(){return i}})},810:function(e,t,s){function i(e){return e instanceof Window}s.d(t,{l:function(){return i}})},32:function(e,t,s){s.d(t,{J:function(){return r}});var i=s(680),n=s(810);function r(e,t){if((0,n.l)(e))return e;if((0,i.v)(e))return e;if(void 0!==t){const s=r(t);if(s)return s.querySelector(e)}return document.querySelector(e)}},758:function(e,t,s){s.d(t,{E:function(){return n}});var i=s(705);function n({onResize:e,element:t,viewportTarget:s="any",hasBothEvents:n=!1,resizeDebounce:r=0}){let o,a,l,h=!0;const d=(t,s)=>{o&&clearTimeout(o),o=setTimeout((()=>e(null!=t?t:{trigger:"unknown"})),null!=s?s:r)};return t&&(t instanceof Element||Array.isArray(t))&&(a=new ResizeObserver((()=>{h?h=!1:d({trigger:"ResizeObserver"},(0,i.S)().props.resizeDebounce+r)})),Array.isArray(t)?t.forEach((e=>null==a?void 0:a.observe(e))):a.observe(t)),!n&&a||(l=(0,i.S)().viewport.callbacks.add(s,(()=>d({trigger:"Viewport"})))),{remove:()=>{o&&clearTimeout(o),null==a||a.disconnect(),null==l||l.remove()},resize:()=>e({trigger:"unknown"}),debounceResize:()=>d(),hasResizeObserver:!!a}}}}]);