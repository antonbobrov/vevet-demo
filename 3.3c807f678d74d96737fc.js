"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3],{3:function(t,e,i){var h=i(617);const n=[];function r(t){return void 0!==t.scale?t.scale:1}var c=i(224);class o extends c.W{_getDefaultProps(){return Object.assign(Object.assign({},super._getDefaultProps()),{media:!1,posRule:"cover"})}_handleResize(){super._handleResize(),this.render((t=>this._prerender(t)))}_prerender({width:t,height:e,ctx:i}){const{media:h,posRule:n}=this.props;let o,s,d;h instanceof c.W?(o=h.canvas,s=h.width,d=h.height):o=h;const u=function(t){const e=function(t){return"container"in t?{width:t.container.clientWidth,height:t.container.clientHeight}:{width:t.width,height:t.height}}(t),i=function(t){const{source:e}=t;return t.sourceWidth&&t.sourceHeight?{width:t.sourceWidth,height:t.sourceHeight}:e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:{width:e.width,height:e.height}}(t);let h;return"cover"===t.rule?h=function(t,e,i){let h=e.width*r(t),n=i.height*h/i.width;return n/r(t)<e.height&&(n=e.height*r(t),h=i.width*n/i.height),{width:h,height:n,x:(e.width-h)/2,y:(e.height-n)/2}}(t,e,i):"contain"===t.rule?h=function(t,e,i){let h=0,n=0;const c=i.width/i.height;return e.width>e.height?(n=e.height,h=n*c,h>e.width&&(h=e.width,n=h/c)):e.height>=e.width&&(h=e.width,n=h/c,n>e.height&&(n=e.height,h=n*c)),h*=r(t),n*=r(t),{width:h,height:n,x:(e.width-h)/2,y:(e.height-n)/2}}(t,e,i):"top-left"===t.rule?h=function(t,e){return{width:e.width*r(t),height:e.height*r(t),x:0,y:0}}(t,i):"top-right"===t.rule?h=function(t,e,i){return{width:i.width*r(t),height:i.height*r(t),x:e.width-i.width,y:0}}(t,e,i):"bottom-left"===t.rule?h=function(t,e,i){return{width:i.width*r(t),height:i.height*r(t),x:0,y:e.height-i.height}}(t,e,i):"bottom-right"===t.rule?h=function(t,e,i){return{width:i.width*r(t),height:i.height*r(t),x:e.width-i.width,y:e.height-i.height}}(t,e,i):"center"===t.rule&&(h=function(t,e,i){return{width:i.width*r(t),height:i.height*r(t),x:(e.width-i.width)/2,y:(e.height-i.height)/2}}(t,e,i)),Object.assign(h,{sourceWidth:i.width,sourceHeight:i.height})}({source:o,sourceWidth:s,sourceHeight:d,rule:n,scale:1,width:t,height:e});i.clearRect(0,0,t,e),i.drawImage(o,u.x,u.y,u.width,u.height),this.callbacks.tbt("prerender",void 0)}}(function(t){const e=Object.assign(Object.assign({},{crossOrigin:null,useCache:!1}),void 0),i=t;return new h.A(((h,r)=>{const c=e.useCache&&n.find((t=>t.src===i));if(!c){const c=new Image;return c.crossOrigin=e.crossOrigin,c.onload=()=>{e.useCache&&n.push({src:i,image:c}),h(c)},c.onerror=()=>r(),void(c.src=t)}h(c.image)}))})("https://picsum.photos/400/600").then((function(t){var e=document.getElementById("ctx-container"),i=new o({media:t,container:e,hasResize:!0,posRule:"cover"});document.querySelectorAll(".js-position").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-position");i.changeProps({posRule:e})}))})),console.log(i.canvas)})).catch((function(){}))}}]);