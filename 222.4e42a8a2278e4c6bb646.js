"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[222],{222:function(t,e,s){var i=s(201),n=s(811),r=s(60),o=s(705);class a extends i.u{_getDefaultProps(){return Object.assign(Object.assign({},super._getDefaultProps()),{intersectionRoot:null,isEnabled:!0,rootMargin:.05,states:"in",classToToggle:"viewed",hasDelay:!0,maxDelay:1e3,direction:"vertical",viewportTarget:"any",resizeDebounce:0})}get isFirstStart(){return this._isFirstStart}get elements(){return this._elements}constructor(t,e=!0){super(t,!1),this._isFirstStart=!0,this._elements=[],this._isIntersectionObserverSupported="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,e&&this.init()}_init(){super._init(),this._setEvents()}_onPropsMutate(){super._onPropsMutate(),this.resize()}_setEvents(){const{viewportTarget:t,resizeDebounce:e}=this.props;this.resize(),this.addViewportCallback(t,(()=>this.resize()),{timeout:e})}resize(){this._removeViewEvents(),this.props.isEnabled&&this._setViewEvents()}get rootBounding(){const{props:t}=this;if(t.intersectionRoot){const e=t.intersectionRoot.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}const{viewport:e}=(0,o.S)();return{top:0,left:0,width:e.width,height:e.height}}_setViewEvents(){if(!this._isIntersectionObserverSupported)return;const{rootBounding:t,isFirstStart:e,props:s}=this,i=e?0:t.width*s.rootMargin*-1,n=e?0:t.height*s.rootMargin*-1;this._intersectionObserverIn=new IntersectionObserver((t=>this._handleIntersectionIn(t)),{root:s.intersectionRoot,threshold:0,rootMargin:`0px ${i}px ${n}px 0px`}),this.elements.forEach((t=>{var e;return null===(e=this._intersectionObserverIn)||void 0===e?void 0:e.observe(t)})),"inout"===s.states&&(this._intersectionObserverOut=new IntersectionObserver((t=>this._handleIntersectionOut(t)),{root:s.intersectionRoot,threshold:0,rootMargin:"0px 0px 0px 0px"}),this.elements.forEach((t=>{var e;return null===(e=this._intersectionObserverOut)||void 0===e?void 0:e.observe(t)})))}_removeViewEvents(){var t,e;null===(t=this._intersectionObserverIn)||void 0===t||t.disconnect(),this._intersectionObserverIn=void 0,null===(e=this._intersectionObserverOut)||void 0===e||e.disconnect(),this._intersectionObserverOut=void 0}_handleIntersectionIn(t){t.forEach((t=>{if(!t.isIntersecting)return;const e=t.target,s=this._getElementDelay(e);this._handleInOut(e,!0,s),"in"===this.props.states&&this.removeElement(e)})),this.isFirstStart&&(this._isFirstStart=!1,this.resize())}_getElementDelay(t){const{isFirstStart:e,props:s}=this,i=!!e&&this.rootBounding;if(!e||!i||!s.hasDelay)return 0;const r=t.getBoundingClientRect();return(0,n.q)("horizontal"===s.direction?(r.left-i.left)/i.width:(r.top-i.top)/i.height,[0,1])*s.maxDelay}_handleIntersectionOut(t){t.forEach((t=>{if(t.isIntersecting)return;const e=t.target;this._handleInOut(e,!1)}))}_handleInOut(t,e,s=0){const{classToToggle:i}=this.props,n=t;n.isScrollViewIn&&e||!n.isScrollViewIn&&!e||(n.isScrollViewIn=e,i&&(0,r.y)((()=>{n.classList.toggle(i,e)}),s),e?(0,r.y)((()=>{this.callbacks.tbt("in",{element:n})}),s):(0,r.y)((()=>{this.callbacks.tbt("out",{element:n})}),s))}addElement(t){var e,s;const i=t;return i.isScrollViewIn=void 0,this._isIntersectionObserverSupported?(this._elements.push(i),null===(e=this._intersectionObserverIn)||void 0===e||e.observe(i),null===(s=this._intersectionObserverOut)||void 0===s||s.observe(i)):this._handleInOut(i,!0),{remove:()=>this.removeElement(i)}}removeElement(t){var e,s;const i=t;null===(e=this._intersectionObserverIn)||void 0===e||e.unobserve(i),null===(s=this._intersectionObserverOut)||void 0===s||s.unobserve(i),i.isScrollViewIn=void 0,this._elements=this._elements.filter((t=>t!==i))}removeElements(){this._elements.forEach((t=>this.removeElement(t))),this._elements=[]}_destroy(){super._destroy(),this._removeViewEvents()}}var h=s(399),c=new a({intersectionRoot:null,isEnabled:!1,rootMargin:.1,states:"inout",classToToggle:"viewed",hasDelay:!0,maxDelay:1e3});h.nC.onPageLoad().then((function(){c.changeProps({isEnabled:!0})})).catch((function(){})),document.querySelectorAll(".js-global-view").forEach((function(t){c.addElement(t)})),c.addCallback("in",(function(t){var e=t.element;console.log(e)}))},201:function(t,e,s){s.d(e,{u:function(){return h}});var i=s(549),n=s(705);class r{constructor(t,e=()=>{},s="Responsive Props"){this._onMutate=e,this._name=s,this._responsiveRules=[],this._refProps=Object.assign({},t),this._props=Object.assign({},t),this._activeBreakpoints=[]}get props(){return this._props}addResponsiveProps(t){this._responsiveRules.push(t),this._responseProps(),this._viewportCallback||(this._viewportCallback=(0,n.S)().viewport.callbacks.add("width",this._responseProps.bind(this),{name:this._name}))}_responseProps(){const t=(0,n.S)(),{viewport:e}=t;let s=!1;const i=Object.assign({},this._refProps),r=[...this._activeBreakpoints].join("_");this._activeBreakpoints=[],this._responsiveRules.forEach((({settings:n,breakpoint:r})=>{"number"==typeof r?e.width<=r&&(this._activeBreakpoints.push(r),s=Object.assign(Object.assign({},i),n)):"string"==typeof r&&(("viewport_desktop"===r&&e.isDesktop||"viewport_tablet"===r&&e.isTablet||"viewport_phone"===r&&e.isPhone)&&(this._activeBreakpoints.push(r),s=Object.assign(Object.assign({},s||i),n)),("device_phone"===r&&t.isPhone||"device_tablet"===r&&t.isTablet||"device_mobile"===r&&t.isMobile)&&(this._activeBreakpoints.push(r),s=Object.assign(Object.assign({},s||i),n)))}));const o=this._activeBreakpoints.join("_")!==r;this._props=s?Object.assign(Object.assign({},this._props),s):Object.assign(Object.assign({},this._props),this._refProps),o&&this._onMutate()}changeProps(t){this._props=Object.assign(Object.assign({},this._props),t),this._refProps=Object.assign(Object.assign({},this._refProps),t),this._onMutate()}destroy(){this._viewportCallback&&this._viewportCallback.remove()}}var o=s(502);class a{_getDefaultProps(){return{}}get props(){return this._mutableProps.props}get callbacks(){return this._callbacks}get name(){return this.constructor.name}get prefix(){return""}get isInitialized(){return this._isInitialized}get isDestroyed(){return this._isDestroyed}constructor(t,e=!0){if(this._isInitialized=!1,this._isDestroyed=!1,!(0,n.S)())throw new Error("Vevet.Application does not exist yet");this._callbacks=new o.n,this._listeners=[],this._destroyableActions=[],this._classNamesToRemove=[];const s=Object.assign(Object.assign({},this._getDefaultProps()),t||{});this._mutableProps=new r(s,(()=>this._onPropsMutate()),this.name),e&&this.init()}addResponsiveProps(t){if(this.isInitialized)throw new Error("Responsive properties cannot be added after `init` is called");this._mutableProps.addResponsiveProps(t)}changeProps(t){this.isDestroyed||(this._mutableProps.changeProps(t),this._callbacks.tbt("propsChange",void 0))}_onPropsMutate(){this._callbacks.tbt("propsMutate",void 0)}init(){this.isInitialized||(this._isInitialized=!0,this._init())}_init(){}addDestroyableAction(t){this._destroyableActions.push(t)}addViewportCallback(t,e,s={}){const i=(0,n.S)().viewport.callbacks.add(t,e,Object.assign(Object.assign({},s),{name:this.constructor.name}));this.addDestroyableAction((()=>i.remove()))}addCallback(t,e,s={}){return this.callbacks.add(t,e,s)}addEventListener(t,e,s,n){const r=(0,i.q)(t,e,s,n);return this._listeners.push(r),Object.assign(Object.assign({},r),{remove:()=>(this._listeners=this._listeners.filter((t=>t.id!==r.id)),r.remove())})}className(...t){return t.map((t=>`${this.prefix}${t}`)).join(" ")}toggleClassName(t,e,s){const i=t.classList.contains(e);t.classList.toggle(e,s),i||this._classNamesToRemove.push({element:t,className:e})}destroy(){this.isDestroyed||this._destroy()}_destroy(){this._callbacks.tbt("destroy",void 0),this._callbacks.destroy(),this._mutableProps.destroy(),this._destroyableActions.forEach((t=>t())),this._listeners.forEach((t=>t.remove())),this._classNamesToRemove.forEach((({element:t,className:e})=>t.classList.remove(e))),this._isDestroyed=!0}}class h extends a{addPlugin(t){void 0===this._plugins&&(this._plugins=[]),this._plugins.push(t),t.component=this,t.init()}_destroyPlugins(){var t;null===(t=this._plugins)||void 0===t||t.forEach((t=>t.destroy()))}_destroy(){super._destroy(),this._destroyPlugins()}}},399:function(t,e,s){s.d(e,{nC:function(){return n}});var i=s(705);const n="undefined"!=typeof window?(0,i.S)():void 0},811:function(t,e,s){function i(t,e=[0,1]){return t<e[0]?e[0]:t>e[1]?e[1]:t}s.d(e,{q:function(){return i}})}}]);