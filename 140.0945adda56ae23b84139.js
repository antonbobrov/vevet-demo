"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[140],{5140:function(e,t,n){var r=n(3484),o=n(1484),a=n(4406);class s extends a.n{constructor(e){super(e,!1)}get component(){return this._component}set component(e){this._component=e}init(){if(!this.component)throw new Error("Component is unknown. Be sure that `plugin.component` is non-nullable.");super.init()}}var i=n(9766);class l extends s{_getDefaultProps(){return Object.assign(Object.assign({},super._getDefaultProps()),{isEnabled:!0,speed:1,lerp:!1,stopPropagationThreshold:!1,stopPropagationDirection:"y"})}get isDragging(){var e,t;return null!==(t=null===(e=this._dragger)||void 0===e?void 0:e.isDragging)&&void 0!==t&&t}_init(){super._init(),this._toggleDragger()}_onPropsMutate(){super._onPropsMutate(),this._toggleDragger()}_toggleDragger(){this.props.isEnabled?this._addDragger():this._removeDragger()}_addDragger(){if(this._dragger)return;const{component:e}=this;this._dragger=new i.O({container:e.container}),this._dragger.addCallback("start",(()=>this._handleDragStart())),this._dragger.addCallback("move",(e=>this._handleDragMove(e))),this._dragger.addCallback("end",(()=>this._handleDragEnd())),this._componentCallbacks||(this._componentCallbacks=[]),this._componentCallbacks.push(e.addCallback("wheel",(()=>{var e;return null===(e=this._dragger)||void 0===e?void 0:e.cancel()}),{name:this.name}))}_removeDragger(){var e;this._dragger&&(this._dragger.destroy(),this._dragger=void 0,null===(e=this._componentCallbacks)||void 0===e||e.forEach((e=>e.remove())),this._componentCallbacks=[])}_getIsDragAvailable(){const{component:e}=this;return!(!e.props.isEnabled||e.maxScrollableWidth<=0&&e.maxScrollableHeight<=0)}_handleDragStart(){if(!this._getIsDragAvailable())return;const{component:e}=this;"number"==typeof this.props.lerp&&(this._prevComponentLerp=e.props.lerp,e.changeProps({lerp:this.props.lerp})),this.callbacks.tbt("start",void 0)}_handleDragMove({event:e,coords:t,start:n,step:r}){if(!this._getIsDragAvailable())return;const{component:o,props:a}=this,{stopPropagationThreshold:s,stopPropagationDirection:i}=a;if("number"==typeof s&&e.cancelable){const r=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);(r>s&&"x"===i||o>s&&"y"===i)&&(e.preventDefault(),e.stopPropagation())}const l=r.x*a.speed,c=r.y*a.speed;o.targetLeft-=l,o.targetTop-=c,o.wrapper.style.pointerEvents="none",o.wrapper.style.userSelect="none",this.callbacks.tbt("move",void 0)}_handleDragEnd(){const{component:e}=this;e.wrapper.style.pointerEvents="",e.wrapper.style.userSelect="","number"==typeof this._prevComponentLerp&&(e.changeProps({lerp:this._prevComponentLerp}),this._prevComponentLerp=void 0),this.callbacks.tbt("end",void 0)}_destroy(){super._destroy(),this._removeDragger()}}var c=n(8947),p=n(705);class d extends s{_getDefaultProps(){return Object.assign(Object.assign({},super._getDefaultProps()),{iterator:40})}_init(){super._init(),this.addEventListener(window,"keydown",(e=>this._handleKeydown(e)))}_canIgnoreEvents(){const{activeElement:e}=document;return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}_isInViewport(){const{viewport:e}=(0,p.S)(),t=this.component.container.getBoundingClientRect();return t.left<e.width&&t.right>0&&t.top<e.height&&t.bottom>0}_checkIsEndOfScroll(){const{component:e}=this;return e.targetTop>=e.maxScrollableHeight&&e.targetLeft>=e.maxScrollableWidth}_handleKeydown(e){const{component:t}=this,{iterator:n}=this.props;if(t.props.isEnabled)if(9!==e.keyCode)if(32!==e.keyCode){if(!this._canIgnoreEvents()&&this._isInViewport())switch(!this._checkIsEndOfScroll()&&[38,40,39,37,34,33,36,35].includes(e.keyCode)&&e.preventDefault(),e.keyCode){case 38:t.targetTop-=n;break;case 40:t.targetTop+=n;break;case 39:t.targetLeft+=n;break;case 37:t.targetLeft-=n;break;case 34:t.targetTop+=10*n;break;case 33:t.targetTop-=10*n;break;case 36:t.targetTop=0,t.targetLeft=0;break;case 35:t.targetTop=t.scrollHeight,t.targetLeft=t.scrollWidth}}else this._handleSpace(e);else this._handleTab()}_handleTab(){this._tabTimeout&&clearTimeout(this._tabTimeout),this._tabTimeout=setTimeout((()=>{const e=this.component,{activeElement:t}=document;if(!(t instanceof HTMLElement&&(0,c.G)(t,e.container)))return;const n=e.container.getBoundingClientRect(),r=t.getBoundingClientRect(),o=e.scrollTop+(r.top-n.top)-(e.clientHeight/2-r.height/2),a=e.scrollLeft+(r.left-n.left)-(e.clientWidth/2-r.width/2);e.targetTop=o,e.targetLeft=a}),120)}_handleSpace(e){document.activeElement instanceof HTMLButtonElement||(e.preventDefault(),this.component.targetTop+=5*this.props.iterator)}_destroy(){super._destroy(),this._tabTimeout&&clearTimeout(this._tabTimeout)}}var g=new r.F({container:"#custom-scroll-default",direction:"vertical",isEnabled:!0});new o.$({container:g}),g.addPlugin(new l),g.addPlugin(new d);var h=new r.F({container:"#custom-scroll-with-different-lerp",elements:".js-element",direction:"vertical",isEnabled:!0,lerp:.1});new o.$({container:h}),h.addPlugin(new l),h.addPlugin(new d);var u=new r.F({container:"#custom-scroll-with-horizontal",direction:"horizontal",isInversedHandlerDirection:!0,isEnabled:!0,lerp:.1});new o.$({container:u}),u.addPlugin(new l),u.addPlugin(new d)},8947:function(e,t,n){function r(e,t){return o(e,t)}function o(e,t){return e===t||null!==e&&o(e.parentNode,t)}n.d(t,{G:function(){return r}})}}]);